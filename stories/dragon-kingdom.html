<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Crystal Dragon's Secret - StoryLand</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --primary: #2C1810;
            --secondary: #D4AF37;
            --accent: #8B4513;
            --text: #F8F0E3;
            --background: #0F0A05;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.8;
            overflow-x: hidden;
        }

        .magical-border {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            border: 12px solid transparent;
            border-image: linear-gradient(
                45deg,
                var(--secondary) 0%,
                transparent 50%,
                var(--secondary) 100%
            ) 1;
            z-index: 1000;
            animation: borderGlow 4s infinite alternate;
        }

        @keyframes borderGlow {
            from { opacity: 0.3; }
            to { opacity: 1; }
        }

        .story-container {
            max-width: 100%;
            min-height: 100vh;
            position: relative;
            background: radial-gradient(circle at center, #1a0f0a 0%, var(--background) 100%);
        }

        .hero-section {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .hero-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.6;
            filter: brightness(0.5) contrast(1.2);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid var(--secondary);
            max-width: 800px;
            margin: 0 auto;
        }

        .story-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(3rem, 8vw, 5rem);
            color: var(--secondary);
            margin-bottom: 2rem;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            letter-spacing: 2px;
        }

        .meta-tags {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .meta-tag {
            background: rgba(212, 175, 55, 0.1);
            color: var(--secondary);
            padding: 0.5rem 1.5rem;
            border-radius: 30px;
            border: 1px solid var(--secondary);
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .story-content {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 2rem;
            position: relative;
        }

        .chapter {
            margin-bottom: 4rem;
            position: relative;
            background: rgba(44, 24, 16, 0.6);
            padding: 3rem;
            border-radius: 20px;
            border: 1px solid var(--secondary);
            backdrop-filter: blur(10px);
        }

        .chapter-title {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            color: var(--secondary);
            margin-bottom: 2rem;
            text-align: center;
        }

        .story-text {
            font-size: clamp(1.3rem, 2vw, 1.6rem);
            line-height: 2;
            color: var(--text);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .story-text p {
            margin-bottom: 2rem;
        }

        .dialogue {
            color: var(--secondary);
            font-style: italic;
            margin: 2rem 0;
            padding-left: 2rem;
            border-left: 3px solid var(--secondary);
        }

        .nav-button {
            position: fixed;
            top: 2rem;
            left: 2rem;
            z-index: 1000;
            background: rgba(44, 24, 16, 0.9);
            color: var(--secondary);
            padding: 1rem 2rem;
            border-radius: 30px;
            border: 1px solid var(--secondary);
            font-family: 'Cinzel', serif;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-2px);
        }

        .font-controls {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .font-btn {
            background: rgba(44, 24, 16, 0.9);
            color: var(--secondary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .font-btn:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: scale(1.1);
        }

        @media (max-width: 768px) {
            .hero-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .chapter {
                padding: 2rem;
                margin: 2rem 1rem;
            }

            .story-text {
                font-size: 1.2rem;
            }

            .nav-button {
                top: 1rem;
                left: 1rem;
                padding: 0.8rem 1.5rem;
            }

            .font-controls {
                right: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="magical-border"></div>
    
    <a href="../library.html" class="nav-button">
        ‚Üê Back to Library
    </a>

    <div class="font-controls">
        <button class="font-btn" onclick="changeFontSize('decrease')">A-</button>
        <button class="font-btn" onclick="changeFontSize('increase')">A+</button>
    </div>

    <div class="story-container">
        <section class="hero-section">
            <img src="../images/library/covers/dragon-kingdom.avif" alt="Crystal Dragon" class="hero-image">
            <div class="hero-content animate__animated animate__fadeIn">
                <h1 class="story-title">The Crystal Dragon's Secret</h1>
                <div class="meta-tags">
                    <span class="meta-tag">9-12 years</span>
                    <span class="meta-tag">advanced</span>
                    <span class="meta-tag">fantasy</span>
                </div>
            </div>
        </section>

        <div class="story-content">
            <article class="chapter" id="storyContent">
                <h2 class="chapter-title">The Last Crystal Dragon</h2>
                <div class="story-text">
                    <p>
                        Deep in the heart of the Crystal Mountains, where the air sparkled with magic and the ground shimmered with precious gems, lived the last of the Crystal Dragons. Her name was Amethyst, and she guarded a secret that had been passed down through generations of her kind.
                    </p>
                    <p>
                        Twelve-year-old Leo had heard stories about the Crystal Dragon all his life. His grandmother used to tell him tales of how the dragon's scales could change color with her mood and how her breath could create beautiful crystal formations. But no one had seen Amethyst in years, and many believed she was just a legend.
                    </p>
                    <p>
                        One day, while exploring the foothills of the Crystal Mountains, Leo discovered a small, glowing crystal that pulsed with a strange energy. As he held it in his hand, it began to float, pulling him toward a hidden cave entrance he had never noticed before.
                    </p>
                    <div class="dialogue">
                        "I've been waiting for you, young one," Amethyst said, her voice like the tinkling of crystal wind chimes. "The crystal you found is a key - the last piece needed to unlock the ancient magic of my kind."
                    </div>
                    <p>
                        Inside the cave, the walls were covered in intricate crystal formations that glowed with an inner light. The air was warm and smelled of something sweet and ancient. And there, in the center of the largest cavern, lay Amethyst, the Crystal Dragon herself.
                    </p>
                </div>
            </article>
        </div>
    </div>

    <script>
        // Font size control
        let currentFontSize = localStorage.getItem('storyFontSize') || 1.3;
        const MIN_FONT_SIZE = 1;
        const MAX_FONT_SIZE = 2;
        const STEP_SIZE = 0.1;

        function updateFontSize() {
            const storyContent = document.getElementById('storyContent');
            storyContent.style.fontSize = `${currentFontSize}rem`;
            localStorage.setItem('storyFontSize', currentFontSize);
        }

        function changeFontSize(action) {
            if (action === 'increase' && currentFontSize < MAX_FONT_SIZE) {
                currentFontSize = Math.min(MAX_FONT_SIZE, currentFontSize + STEP_SIZE);
            } else if (action === 'decrease' && currentFontSize > MIN_FONT_SIZE) {
                currentFontSize = Math.max(MIN_FONT_SIZE, currentFontSize - STEP_SIZE);
            }
            updateFontSize();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateFontSize();
        });
    </script>
</body>
</html>
